Kernel Report
========

第一章 Linus branch v3.18 vs v3.10 difference
------------------

*下面这些信息反映了部分kernel新的功能，这些feature不一定会影响我们手机的功能*

## 1. DTS相关的头文件
- include/dt-bindings/下面有大量的很多模块的头文件。
- arch/arm/boot/dts/mxs-pinfunc.h 这里定义了一些与pinfunc相关的头文件。

使用这些头文件有什么好处，能否给驱动带来便利？
> Orson: 通过使用宏，DT可读性增强。

## 2. ARM体系结构

#### 2.1 big little相关：
- arch/arm/common/bL_switcher.c
- arch/arm/common/bL_switcher_dummy_if.c

## 3. ARM64体系架构
#### 3.1. Implement basic CPU topology support: 
- arch/arm64/kernel/topology.c

#### 3.2. memcpy
- arch/arm64/lib/memcpy.S 没有解决对齐问题，需要软件解决对齐

## 4. Scheduler

#### 4.1. Improved timerless multitasking: allow timekeeping CPU go idle
- CONFIG_NO_HZ_FULL_SYSIDLE相关

#### 4.2. Deadline scheduling class for better real-time scheduling
- kernel/sched/deadline.c

## 5. Power Management

#### 5.1. psci
- Add CPU_HOTPLUG infrastructure commit
- add PSCI CPU_OFF-based hotplug support commit
- psci支持0.1和0.2两个版本，初始化的顺序由early_initcall调到了setup_arch()中，
- 增加PSCI_FN_AFFINITY_INFO,PSCI_FN_MIGRATE_INFO_TYPE两个功能。0.2支持查询版本命令。
- arch/arm/kernel/psci.c
- arch/arm/kernel/psci_smp.c
- arch/arm64/kernel/psci.c

#### 5.2 genpd: Generic Power Domain
- 增强 OF based
- 增加 OPP support
- PM/Sleep **runtime suspend device:** pm_runtime_suspend/resume_force/resume_later
- 引入 SPMI: System Power Management Interface
- 增强 PM QoS


## 6. Memory Management

#### 6.1. ARM huge page support
- arch/arm64/mm/hugetlbpage.c

#### 6.2. Change kernel stack size to 16K
- arch/arm64/include/asm/thread_info.h

#### 6.3. Add support for ARM Ltd. System MMU architecture
- drivers/iommu/arm-smmu.c

#### 6.4. Better Out-Of-Memory handling
- https://lwn.net/Articles/562211/#oom

#### 6.5. Add 4 levels of page tables definition with 4KB pages
- arch/arm64/include/asm/pgtable-4level-types.h

#### 6.6 Memory Hotplug
- drivers/base/memory.c

#### 6.7 引入devm_kmemdup管理kmalloc()
- driver/base/devres.c

#### 6.8 zram转正及一系列增强补丁
- driver/block/zram/*

## 7. Virtual Machine
- adds KVM virtualization support for the ARM64 architecture
- arch/arm64/kvm/

## 8. Debug

#### 9.1. scripts/analyze_suspend.py
- trace event for suspend/resume
- 通过工具产生suspend/resume过程图形

#### 9.2. Add option to log time spent in suspend
- kernel/time/timekeeping_debug.c

#### 9.3. Add "crash_kexec_post_notifiers" option for kdump after panic_notifers
- kernel/panic.c

## 10. Device Driver

#### 10.0 Gerneric
* **deivce core dump**
* **regmap i2c/spi** dt endian support
* **new regmap_field api** for multiple port/offset register

#### 10.1 Timer

* __arch timer用做sched clock，更符合内核框架__

* __add support for ARM architected timer event stream commit__
-- arch/arm/kernel/arch_timer.c
-- drivers/clocksource/arm_arch_timer.c

* __Add support for clocks CLOCK_REALTIME_ALARM and CLOCK_BOOTTIME_ALARM, thereby enabling wakeup alarm timers via file descriptors__
-- fs/timerfd.c

* __clockevents: Implement unbind functionality__
-- kernel/time/*

#### 10.2 Framebuffer / DRM
* __fbdev已经迁移至DRM__
* **增加componentised subsystem:** super device node, eg: drm/alsa

#### 10.3 DMA
* **cma + reserved memory**
* **dma coherent + shared dma pool (DT)**
* **dma mapping**
* **dma-buf:** cross device reservation

#### 10.4 Clock
* composite: determine_rate() supported
* clk_fetch_parent_index() supported
* 增加 reparent on set_rate
* 增加 remixing on set_rate
* 修正 race condition: set_rate & set_parent
* 增加 not locked of_clk_get_from_provider()
* 增加 clk_unregister()
* 增加 set_rate_and_parent()
* respect dependencies in of_clk_init()
* divider optimization
* probe defer (延迟加载)
* 支持dt中设定 parent 和 rate (assigned from dt)
* 增加 clk_set_phase()

#### 10.5 CPU Frequency (cpufreq)
这部分改动很频繁并且细碎，印象较深改动有：
* cpufreq-cpu0.c 改名为 cpufreq-dt.c 预示未来会支持更多。
* cpu overclocking 支持
* 和PM/OPP的关联
* 结合dt上支持 cooling devices
* **big-little:** IKS (in kernel switch)
* governor相关的一系列修正

#### 10.6 CPU Idle (cpuidle)
* implement DT based idle states infrastructure
* CPU idle ARM64 driver

#### 10.7 I2C Bus
* 全面的OF DT支持
* Add message transfer tracepoints for I2C

#### 10.8 IOMMU
* iommu/arm: Add support for ARM Ltd. System MMU architecture

#### 10.9 IRQ Chip
* clocksource+irqchip: delete __cpuinit usage from all related files
* ARM: gic: add CPU migration support. (This is required by the big.LITTLE switcher code)
* ARM: bL_switcher: do not hardcode GIC IDs in the code
* irq-gic: introduce gic_cpu_if_down()
* ARM: GIC: function to retrieve the physical address of the SGIR
* ARM: GIC: interface to send a SGI directly
* iGic: fix boot for chained gics
* DRIVERS: IRQCHIP: IRQ-GIC: Add support for routable irqs
* vic: update the base IRQ member correctly
* vic: update the base IRQ member correctly
* Gic: Support forced affinity setting
* gic-v3: Initial support for GICv3
* gic: Add support for cortex a7 compatible string
* gic: Convert to handle_domain_irq
* gic-v3: Implement CPU PM notifier

#### 10.10 Mailbox
* Introduce framework for mailbox
--  Introduce common framework for client/protocol drivers and 
    controller drivers of Inter-Processor-Communication (IPC).
    
>    Client driver developers should have a look at
>     include/linux/mailbox_client.h to understand the part of
>    the API exposed to client drivers.
>    Similarly controller driver developers should have a look
>    at include/linux/mailbox_controller.h

#### 10.11 MMC Host
* sdhci: improve card removal check in sdhci_card_event()
* esdhc: Add support for 8-bit bus width and non-removable card
* esdhc: add support to get voltage from device-tree
* sdhci: Allow for irq being shared
* sdhci: push card_tasklet into threaded irq handler
* sdhci: allow sdio interrupts while sdhci runtime suspended
* Russell King在2014年4月对sdhci.c进行的大规模的清理
* sdhci: Improve external VDD regulator support
* sdhci: add platform set_timeout hook
* sdhci: handle busy-end interrupt during command
* sdhci: execute tuning when device is not busy
* sdhci: Add quirk for always getting TC with stop cmd

#### 10.12 MTD
* mtd: Add sysfs attributes to expose the ECC stats fields
* UBI: support ubi_num on mtd.ubi command line
* mtd: devices: elm: Low power transition support
* mtd: tests: introduce helper functions
* driver/mtd/IFC: Add support of 8K page size NAND flash
* mtd: nand: add generic READ RETRY support

#### 10.13 OF
* add function to scan fdt nodes given by path at early time (like reserved-memory scan)
* drivers: of: add initialization code for dma reserved memory
* of: Add testcases for interrupt parsing
* of/irq: create interrupts-extended property
* of: add functions to count number of elements in a property
*  [media] of: move graph helpers from drivers/media/v4l2-core to drivers/of
* drivers: of: add initialization code for static reserved memory
* drivers: of: add support for custom reserved memory drivers
* of: Make device nodes kobjects so they show up in sysfs
* of: introduce of_dma_get_range() helper
* of: Keep track of populated platform devices - multiple populating safe and de-populate implement
* of: Introduce Device Tree resolve support - runtime devicetree loading

#### 10.14 Power Supply and Charger
* power_supply: Prevent suspend until power supply events are processed
* power_supply: Add power_supply notifier
* charger-manager: Support deivce tree in charger manager driver
* power_supply: Add power_supply_get_by_phandle
* gpio-charger: Support wakeup events
* power_supply: allow power supply devices registered w/o wakeup source
* power_supply: Add inlmt,iterm, min/max temp props
* power_supply: Add boot and calibration attributes
* power/restart: call machine_restart instead of arm_pm_restart

#### 10.15 Regulator
* regulator: core: Add helpers for multiple linear ranges

#### 10.16 RTC












第二章 android3.18.0 patches
----------------

Google Android 3.18基于Linus tag: v3.18进行开发，目前共计509次提交。
如下：

```C
 Documentation/android.txt                          |  121 +	介绍了android 指定的必须打开/必须关闭/推荐打开的config选项
 Documentation/arm64/legacy_instructions.txt        |   57 +	介绍了一些废弃/过时指令的处理办法
 Documentation/cgroups/cgroups.txt                  |    9 +	增加对allow_attach的介绍
 Documentation/cpu-freq/governors.txt               |   85 +	增加对cpu freq governor Interactive的介绍
 Documentation/filesystems/proc.txt                 |    6 +
 Documentation/networking/ip-sysctl.txt             |   31 +-
 Documentation/sync.txt                             |   75 +
 Documentation/sysctl/vm.txt                        |   16 +
 Documentation/trace/ftrace.txt                     |   29 +
 Makefile                                           |    2 +-
 android/configs/README                             |   15 +
 android/configs/android-base.cfg                   |  145 +
 android/configs/android-recommended.cfg            |  121 +
 arch/arm/Kconfig                                   |   24 +
 arch/arm/Kconfig.debug                             |    8 +	如果在启动早期打印需要使能EARLY_PRINTK_DIRECT，EARLY_PRINTK is not enough
 arch/arm/Makefile                                  |    5 +
 arch/arm/boot/.gitignore                           |    1 +
 arch/arm/boot/Makefile                             |   13 +	zImage-dtb?????
 arch/arm/boot/compressed/head.S                    |    2 +
 arch/arm/boot/dts/Makefile                         |   11 +-
 arch/arm/common/Kconfig                            |    4 +
 arch/arm/common/Makefile                           |    1 +
 arch/arm/common/fiq_glue.S                         |  118 +
 arch/arm/common/fiq_glue_setup.c                   |  147 +
 arch/arm/include/asm/fiq_glue.h                    |   33 +
							以上为对fiq的操作（注册处理函数等）
 arch/arm/include/asm/hardirq.h                     |    2 +-
 arch/arm/include/asm/hardware/coresight.h          |   50 +-
 arch/arm/include/asm/irq.h                         |    3 +
 arch/arm/include/asm/mach/mmc.h                    |   28 +
 arch/arm/include/asm/smp.h                         |    2 +
 arch/arm/kernel/asm-offsets.c                      |   12 +-
 arch/arm/kernel/etm.c                              |  678 ++++-ARM: etm: Add sysfs entry相关
 arch/arm/kernel/kgdb.c                             |    4 +
 arch/arm/kernel/process.c                          |  128 +	增加了在poweroff/reboot时preempt_disable
 arch/arm/kernel/smp.c                              |   58 +	增加IPI_CPU_BACKTRACE相关代码
 arch/arm/mm/cache-v6.S                             |   17 +
 arch/arm/mm/fault.c                                |    4 +-
 arch/arm64/Kconfig                                 |  115 +	废弃/过期指令处理相关；arm64 附加dtb相关？？？？
 arch/arm64/Makefile                                |    9 +
 arch/arm64/boot/.gitignore                         |    1 +
 arch/arm64/boot/Makefile                           |   13 +
 arch/arm64/boot/dts/Makefile                       |   13 +-	对于dtb的编译规则有改动？？？？
 arch/arm64/include/asm/compat.h                    |    7 +
 arch/arm64/include/asm/cpufeature.h                |    3 +
 arch/arm64/include/asm/cputype.h                   |   17 +
 arch/arm64/include/asm/insn.h                      |   10 +
 arch/arm64/include/asm/opcodes.h                   |    1 +
 arch/arm64/include/asm/ptrace.h                    |   16 +
 arch/arm64/include/asm/seccomp.h                   |   25 +
 arch/arm64/include/asm/traps.h                     |   16 +
 arch/arm64/include/asm/unistd.h                    |    3 +
 arch/arm64/include/asm/unistd32.h                  |    3 +-
 arch/arm64/include/uapi/asm/ptrace.h               |    1 +
 arch/arm64/kernel/Makefile                         |    5 +-
 arch/arm64/kernel/armv8_deprecated.c               |  662 +++++废弃/过期指令处理
 arch/arm64/kernel/cpuinfo.c                        |   22 +	arm64: Track system support for mixed endian EL0
 arch/arm64/kernel/entry.S                          |    6 +	arm64: add seccomp support  什么是secure computing？
 arch/arm64/kernel/insn.c                           |   26 +	废弃/过期指令处理
 arch/arm64/kernel/process.c                        |   66 +	arm64: process: dump memory around registers when displaying regs
							machine_shutdown中没有调用preempt_disable不知道没有没问题？？？？？？？？
 arch/arm64/kernel/ptrace.c                         |   39 +-	arm64: add seccomp support
 arch/arm64/kernel/setup.c                          |   96 +-
 arch/arm64/kernel/signal32.c                       |   13 +-	arm64: Emulate SETEND for AArch32 tasks  跟废弃/过期指令相关
 arch/arm64/kernel/trace-events-emulation.h         |   35 +
 arch/arm64/kernel/traps.c                          |   66 +	arm64: Add support for hooks to handle undefined instructions
 arch/arm64/mm/init.c                               |    4 +-
 arch/x86/include/asm/idle.h                        |    7 -
 arch/x86/kernel/process.c                          |   17 +-
 block/genhd.c                                      |   17 +
 block/partition-generic.c                          |   11 +
 drivers/Kconfig                                    |    2 +
 drivers/Makefile                                   |    1 +
 drivers/base/Kconfig                               |    5 +
 drivers/base/cpu.c                                 |   10 +-
 drivers/base/power/main.c                          |   48 +
 drivers/base/power/wakeup.c                        |   16 +
 drivers/base/syscore.c                             |    3 +
 drivers/char/Kconfig                               |   17 +
 drivers/char/Makefile                              |    1 +
 drivers/char/dcc_tty.c                             |  326 +++
 drivers/char/mem.c                                 |   17 +
 drivers/clk/Kconfig                                |   18 +
 drivers/clk/clk.c                                  |  273 ++	clk: debugfs: Support frequency stats accounting
 drivers/cpufreq/Kconfig                            |   27 +
 drivers/cpufreq/Makefile                           |    1 +
 drivers/cpufreq/cpufreq_interactive.c              | 1380 +++++++++ interactive驱动
 drivers/cpufreq/cpufreq_stats.c                    |  221 +-
 drivers/cpuidle/governors/menu.c                   |    7 +-
 drivers/hid/hid-input.c                            |   10 +-
 drivers/hid/hid-multitouch.c                       |   24 +-
 drivers/hid/hid-steelseries.c                      |    5 +
 drivers/iio/industrialio-event.c                   |    2 +
 drivers/input/Kconfig                              |   19 +
 drivers/input/Makefile                             |    3 +
 drivers/input/evdev.c                              |   67 +-
 drivers/input/keycombo.c                           |  261 ++
 drivers/input/keyreset.c                           |  145 +
 drivers/input/misc/Kconfig                         |   16 +
 drivers/input/misc/Makefile                        |    2 +
 drivers/input/misc/gpio_axis.c                     |  192 ++
 drivers/input/misc/gpio_event.c                    |  228 ++
 drivers/input/misc/gpio_input.c                    |  390 +++
 drivers/input/misc/gpio_matrix.c                   |  441 +++
 drivers/input/misc/gpio_output.c                   |   97 +
 drivers/input/misc/keychord.c                      |  391 +++
							上面是generic gpio驱动
 drivers/misc/Kconfig                               |    4 +
 drivers/misc/Makefile                              |    1 +
 drivers/misc/uid_stat.c                            |  152 +
 drivers/mmc/card/Kconfig                           |    9 +
 drivers/mmc/card/block.c                           |   33 +-
 drivers/mmc/core/Kconfig                           |   15 +
 drivers/mmc/core/core.c                            |   55 +-
 drivers/mmc/core/host.c                            |    7 +-
 drivers/mmc/core/sd.c                              |   83 +-
 drivers/mmc/core/sdio.c                            |  112 +-
 drivers/mmc/core/sdio_bus.c                        |   13 +-
 drivers/mmc/core/sdio_io.c                         |   33 +
 drivers/mtd/nand/Kconfig                           |   10 +-
 drivers/net/ppp/Kconfig                            |   17 +
 drivers/net/ppp/Makefile                           |    2 +
 drivers/net/ppp/pppolac.c                          |  449 +++
 drivers/net/ppp/pppopns.c                          |  428 +++
 drivers/net/tun.c                                  |    6 +
 drivers/net/wireless/Kconfig                       |    5 +
 drivers/of/fdt.c                                   |   68 +-
 drivers/power/power_supply_sysfs.c                 |   11 +-
 drivers/staging/android/Kconfig                    |   33 +-
 drivers/staging/android/Makefile                   |    3 +-
 drivers/staging/android/TODO                       |   10 -
 drivers/staging/android/alarm-dev.c                |  446 ---	 
/* 
The functionality provided by the Android alarm-dev driver
should now be present in the timerfd interface (thanks to Greg
Hackmann and Todd Poynor).
    
As of Lollipop, AOSP can make use of the timerfd if
alarm-dev is not present (though a fixup for setting the
rtc time if rtc0 isn't the backing for _ALARM clockids has
been applied post-Lollipop).
Thus, we should be able to remove alarm-dev from staging.
*/
 drivers/staging/android/android_alarm.h            |   41 -
 drivers/staging/android/ashmem.c                   |   24 +-
 drivers/staging/android/binder.c                   |   39 +-
 drivers/staging/android/fiq_debugger/Kconfig       |   49 +
 drivers/staging/android/fiq_debugger/Makefile      |    4 +
 .../staging/android/fiq_debugger/fiq_debugger.c    | 1212 ++++++++
 .../staging/android/fiq_debugger/fiq_debugger.h    |   64 +
 .../android/fiq_debugger/fiq_debugger_arm.c        |  240 ++
 .../android/fiq_debugger/fiq_debugger_arm64.c      |  202 ++
 .../android/fiq_debugger/fiq_debugger_priv.h       |   37 +
 .../android/fiq_debugger/fiq_debugger_ringbuf.h    |   94 +
 .../staging/android/fiq_debugger/fiq_watchdog.c    |   56 +
 .../staging/android/fiq_debugger/fiq_watchdog.h    |   20 +
 drivers/staging/android/logger.c                   |  808 ------
/* With the relase of Lollipop, Android no longer requires the logger driver. */
 drivers/staging/android/logger.h                   |   89 -
 drivers/staging/android/lowmemorykiller.c          |  108 +-
 drivers/staging/android/sync.c                     |    2 +-
 drivers/staging/android/uapi/android_alarm.h       |   62 -
 drivers/staging/android/uapi/ashmem.h              |    1 +
 drivers/switch/Kconfig                             |   15 +
 drivers/switch/Makefile                            |    4 +
 drivers/switch/switch_class.c                      |  174 ++
 drivers/switch/switch_gpio.c                       |  172 ++
 drivers/tty/serial/serial_core.c                   |    3 +
 drivers/usb/gadget/Kconfig                         |   48 +-
 drivers/usb/gadget/Makefile                        |    9 +
 drivers/usb/gadget/android.c                       | 1527 ++++++++++
 drivers/usb/gadget/composite.c                     |   10 +-
 drivers/usb/gadget/configfs.c                      |  154 +-
 drivers/usb/gadget/f_accessory.c                   | 1215 ++++++++
 drivers/usb/gadget/f_audio_source.c                |  834 ++++++
 drivers/usb/gadget/f_mtp.c                         | 1457 ++++++++++
 drivers/usb/gadget/f_mtp.h                         |   18 +
 drivers/usb/gadget/f_ptp.c                         |   38 +
 drivers/usb/gadget/function/f_rndis.c              | 1038 -------
 drivers/usb/gadget/function/rndis.c                |  111 +-
 drivers/usb/gadget/function/rndis.h                |    2 +
 drivers/usb/gadget/function/u_ether.c              |  324 ++-
 drivers/usb/gadget/function/u_ether.h              |    3 +
 drivers/usb/gadget/function/u_serial.c             |    1 +
 drivers/usb/gadget/functionf_rndis.c               | 1067 +++++++
 drivers/usb/gadget/udc/udc-core.c                  |   10 +-
 drivers/usb/phy/Kconfig                            |    8 +
 drivers/usb/phy/Makefile                           |    2 +-
 drivers/usb/phy/otg-wakelock.c                     |  173 ++
 drivers/video/Kconfig                              |    1 +
 drivers/video/Makefile                             |    1 +
 drivers/video/adf/Kconfig                          |   14 +
 drivers/video/adf/Makefile                         |   15 +
 drivers/video/adf/adf.c                            | 1188 ++++++++
 drivers/video/adf/adf.h                            |   71 +
 drivers/video/adf/adf_client.c                     |  811 ++++++
 drivers/video/adf/adf_fbdev.c                      |  665 +++++
 drivers/video/adf/adf_fops.c                       |  957 ++++++
 drivers/video/adf/adf_fops.h                       |   37 +
 drivers/video/adf/adf_fops32.c                     |  217 ++
 drivers/video/adf/adf_fops32.h                     |   78 +
 drivers/video/adf/adf_format.c                     |  280 ++
 drivers/video/adf/adf_memblock.c                   |  160 ++
 drivers/video/adf/adf_sysfs.c                      |  296 ++
 drivers/video/adf/adf_sysfs.h                      |   33 +
 drivers/video/adf/adf_trace.h                      |   93 +
 drivers/w1/masters/ds2482.c                        |   47 +-
 fs/eventpoll.c                                     |    4 +-
 fs/ext4/ext4.h                                     |    3 +-
 fs/ext4/ioctl.c                                    |    6 +-
 fs/ext4/mballoc.c                                  |   28 +-
 fs/fs-writeback.c                                  |    2 +-
 fs/fuse/dev.c                                      |    6 +-
 fs/proc/base.c                                     |    8 +-
 fs/proc/task_mmu.c                                 |   62 +
 fs/pstore/Kconfig                                  |   10 +
 fs/pstore/Makefile                                 |    2 +
 fs/pstore/inode.c                                  |   26 +-
 fs/pstore/internal.h                               |    6 +
 fs/pstore/platform.c                               |    1 +
 fs/pstore/pmsg.c                                   |  114 +	pmsg的作用，如何使用？
 fs/pstore/ram.c                                    |   60 +-	pstore: add pmsg
 include/asm-generic/seccomp.h                      |   29 +
 include/linux/Kbuild                               |    2 +
 include/linux/amba/mmci.h                          |   13 +
 include/linux/android_aid.h                        |   28 +
 include/linux/atomic.h                             |   36 +
 include/linux/bitops.h                             |   20 +
 include/linux/cgroup.h                             |   18 +
 include/linux/clk-private.h                        |   17 +
 include/linux/cpu.h                                |    7 +
 include/linux/cpufreq.h                            |    3 +
 include/linux/gpio_event.h                         |  170 ++
 include/linux/hid.h                                |    4 +-
 include/linux/if_pppolac.h                         |   23 +
 include/linux/if_pppopns.h                         |   23 +
 include/linux/if_pppox.h                           |   21 +
 include/linux/ipv6.h                               |    2 +
 include/linux/kernel.h                             |    4 +
 include/linux/keychord.h                           |   23 +
 include/linux/keycombo.h                           |   36 +
 include/linux/keyreset.h                           |   29 +
 include/linux/mm.h                                 |    3 +-
 include/linux/mm_types.h                           |   14 +
 include/linux/mmc/host.h                           |   17 +
 include/linux/mmc/pm.h                             |    1 +
 include/linux/mmc/sdio_func.h                      |   10 +
 include/linux/netfilter/xt_qtaguid.h               |   13 +
 include/linux/netfilter/xt_quota2.h                |   25 +
 include/linux/nmi.h                                |   15 +-
 include/linux/of_fdt.h                             |   21 +
 include/linux/platform_data/ds2482.h               |   21 +
 include/linux/power_supply.h                       |    8 +
 include/linux/pstore.h                             |    1 +
 include/linux/pstore_ram.h                         |    3 +
 include/linux/sched.h                              |    3 +
 include/linux/security.h                           |   29 +
 include/linux/serial_core.h                        |    1 +
 include/linux/suspend.h                            |    1 +
 include/linux/switch.h                             |   53 +
 include/linux/uid_stat.h                           |   29 +
 include/linux/usb/composite.h                      |    1 +
 include/linux/usb/f_accessory.h                    |   23 +
 include/linux/usb/f_mtp.h                          |   23 +
 include/linux/wakelock.h                           |   67 +
 include/linux/wakeup_reason.h                      |   27 +
 include/linux/wifi_tiwlan.h                        |   27 +
 include/linux/wlan_plat.h                          |   30 +
 include/net/activity_stats.h                       |   25 +
 include/net/addrconf.h                             |    2 +
 include/net/fib_rules.h                            |    6 +
 include/net/flow.h                                 |    9 +-
 include/net/ip.h                                   |    1 +
 include/net/ip6_route.h                            |    2 +-
 include/net/route.h                                |    5 +-
 include/net/tcp.h                                  |    3 +
 include/trace/events/cpufreq_interactive.h         |  112 +
 include/trace/events/gpu.h                         |  143 +
 include/trace/events/mmc.h                         |   91 +
 include/trace/events/power.h                       |   19 +
 include/uapi/linux/fib_rules.h                     |    2 +
 include/uapi/linux/fs.h                            |    2 +
 include/uapi/linux/if_pppolac.h                    |   33 +
 include/uapi/linux/if_pppopns.h                    |   32 +
 include/uapi/linux/if_pppox.h                      |    6 +-
 include/uapi/linux/input.h                         |    7 +-
 include/uapi/linux/ipv6.h                          |    2 +
 include/uapi/linux/keychord.h                      |   52 +
 include/uapi/linux/netfilter/xt_IDLETIMER.h        |    8 +
 include/uapi/linux/netfilter/xt_socket.h           |    5 +
 include/uapi/linux/prctl.h                         |    9 +
 include/uapi/linux/rtnetlink.h                     |    1 +
 include/uapi/linux/sockios.h                       |    1 +
 include/uapi/linux/usb/f_accessory.h               |  146 +
 include/uapi/linux/usb/f_mtp.h                     |   61 +
 include/uapi/video/adf.h                           |  321 +++
 include/video/adf.h                                |  502 ++++
 include/video/adf_client.h                         |   61 +
 include/video/adf_fbdev.h                          |  124 +
 include/video/adf_format.h                         |   26 +
 include/video/adf_memblock.h                       |   20 +
 kernel/cgroup.c                                    |   58 +-
 kernel/cpu.c                                       |   20 +
 kernel/debug/debug_core.c                          |   12 +
 kernel/debug/kdb/kdb_io.c                          |   12 +-
 kernel/fork.c                                      |   19 +-	
/*
sched: Add a generic notifier when a task struct is about to be freed
The Android lowmemory killer uses this to determine when a task
it has killed has finally given up its goods.
*/
 kernel/panic.c                                     |    8 +
 kernel/power/Kconfig                               |   16 +
 kernel/power/Makefile                              |    3 +
 kernel/power/process.c                             |   22 +-
 kernel/power/suspend.c                             |   36 +-
 kernel/power/suspend_time.c                        |  111 +	用于记录睡眠的时间   /sys/kernel/debug/suspend_time
 kernel/power/wakeup_reason.c                       |  180 ++	Power: add an API to log wakeup reasons
 kernel/printk/printk.c                             |    8 +	add CONFIG_EARLY_PRINTK_DIRECT
 kernel/sched/core.c                                |   30 +-
 kernel/sys.c                                       |  174 ++
 kernel/sysctl.c                                    |   17 +
 kernel/trace/Kconfig                               |    3 +
 kernel/trace/Makefile                              |    1 +
 kernel/trace/gpu-traces.c                          |   23 +
 kernel/trace/trace.c                               |   99 +-
 kernel/trace/trace.h                               |    2 +
 kernel/trace/trace_functions_graph.c               |   43 +-
 kernel/trace/trace_output.c                        |  182 +-
 kernel/watchdog.c                                  |  123 +-	hardlockup: detect hard lockups without NMIs using secondary cpus
 lib/Kconfig.debug                                  |   14 +-
 mm/madvise.c                                       |    3 +-
 mm/memcontrol.c                                    |   12 +
 mm/mempolicy.c                                     |    2 +-
 mm/mlock.c                                         |    3 +-
 mm/mmap.c                                          |   50 +-
 mm/mprotect.c                                      |    3 +-
 mm/page_alloc.c                                    |   35 +-
 mm/shmem.c                                         |   13 +-
 mm/vmscan.c                                        |   43 +
 net/Kconfig                                        |   16 +-
 net/Makefile                                       |    1 +
 net/activity_stats.c                               |  119 +
 net/bluetooth/af_bluetooth.c                       |   29 +
 net/bridge/br_device.c                             |   11 +-
 net/core/fib_rules.c                               |   53 +-
 net/ipv4/Makefile                                  |    1 +
 net/ipv4/af_inet.c                                 |   20 +-
 net/ipv4/devinet.c                                 |    8 +-
 net/ipv4/fib_frontend.c                            |    1 +
 net/ipv4/inet_connection_sock.c                    |    6 +-
 net/ipv4/ip_output.c                               |    3 +-
 net/ipv4/ping.c                                    |    3 +-
 net/ipv4/raw.c                                     |    3 +-
 net/ipv4/route.c                                   |   25 +-
 net/ipv4/syncookies.c                              |    5 +-
 net/ipv4/sysctl_net_ipv4.c                         |   22 +
 net/ipv4/sysfs_net_ipv4.c                          |   88 +
 net/ipv4/tcp.c                                     |  119 +
 net/ipv4/tcp_input.c                               |    1 +
 net/ipv4/tcp_output.c                              |    2 +-
 net/ipv4/udp.c                                     |    3 +-
 net/ipv6/addrconf.c                                |   90 +-
 net/ipv6/af_inet6.c                                |   38 +-
 net/ipv6/ah6.c                                     |    2 +-
 net/ipv6/datagram.c                                |    1 +
 net/ipv6/esp6.c                                    |    2 +-
 net/ipv6/exthdrs_core.c                            |   13 +-
 net/ipv6/icmp.c                                    |    2 +-
 net/ipv6/inet6_connection_sock.c                   |    2 +
 net/ipv6/ipcomp6.c                                 |    2 +-
 net/ipv6/ping.c                                    |    1 +
 net/ipv6/raw.c                                     |    1 +
 net/ipv6/route.c                                   |   83 +-
 net/ipv6/syncookies.c                              |    1 +
 net/ipv6/tcp_ipv6.c                                |    1 +
 net/ipv6/udp.c                                     |    1 +
 net/netfilter/Kconfig                              |   42 +
 net/netfilter/Makefile                             |    2 +
 net/netfilter/xt_IDLETIMER.c                       |  220 +-
 net/netfilter/xt_qtaguid.c                         | 3032 ++++++++++++++++++++
 net/netfilter/xt_qtaguid_internal.h                |  352 +++
 net/netfilter/xt_qtaguid_print.c                   |  566 ++++
 net/netfilter/xt_qtaguid_print.h                   |  120 +
 net/netfilter/xt_quota2.c                          |  382 +++
 net/netfilter/xt_socket.c                          |   73 +-
 net/rfkill/Kconfig                                 |    5 +
 net/rfkill/core.c                                  |    4 +
 net/wireless/scan.c                                |    2 +-
 scripts/Makefile.lib                               |    6 +
 scripts/Makefile.modinst                           |    2 +-
 security/capability.c                              |   24 +
 security/commoncap.c                               |   11 +
 security/security.c                                |   20 +
 security/selinux/hooks.c                           |   89 +-	selinux:  Remove obsolete selinux_audit_data initialization.
 security/selinux/include/classmap.h                |    1 +
 376 files changed, 33672 insertions(+), 3205 deletions(-)
```

第三章 stable linux3.18.0-10 patches
----------------

Upstream v3.18.10稳定分支由社区维护，基于Linus tag: v3.18开发，目前累计接收993个提交。
这些提交都是稳定性bug fix,改动较小。

如下:

```C
 .../devicetree/bindings/i2c/i2c-designware.txt     |    4 +-
 Documentation/kernel-parameters.txt                |    1 +
 Documentation/ramoops.txt                          |   13 +-
 Documentation/stable_kernel_rules.txt              |   44 +-
 Makefile                                           |    2 +-
 arch/alpha/mm/fault.c                              |    2 +
 arch/arc/boot/dts/nsimosci.dts                     |   18 +-
 arch/arc/include/asm/pgtable.h                     |    3 +-
 arch/arc/include/asm/processor.h                   |    9 +-
 arch/arc/kernel/stacktrace.c                       |    6 +-
 arch/arc/mm/fault.c                                |    2 +
 arch/arm/boot/dts/am335x-bone-common.dtsi          |    1 +
 arch/arm/boot/dts/am437x-sk-evm.dts                |   15 +-
 arch/arm/boot/dts/armada-370-db.dts                |   24 -
 arch/arm/boot/dts/armada-370.dtsi                  |   10 +-
 arch/arm/boot/dts/bcm63138.dtsi                    |    5 +-
 arch/arm/boot/dts/berlin2q-marvell-dmp.dts         |    2 +
 arch/arm/boot/dts/berlin2q.dtsi                    |   63 +-
 arch/arm/boot/dts/dra7-evm.dts                     |   10 +-
 arch/arm/boot/dts/dra7.dtsi                        |    2 +-
 arch/arm/boot/dts/exynos4.dtsi                     |    4 +-
 arch/arm/boot/dts/imx25.dtsi                       |   10 +-
 arch/arm/boot/dts/imx51-babbage.dts                |   22 +-
 arch/arm/boot/dts/s3c6410-mini6410.dts             |    4 -
 arch/arm/boot/dts/s3c64xx.dtsi                     |    1 -
 arch/arm/boot/dts/tegra20.dtsi                     |    8 +-
 arch/arm/configs/multi_v7_defconfig                |    3 +-
 arch/arm/configs/omap2plus_defconfig               |    2 +-
 arch/arm/configs/shmobile_defconfig                |    2 +-
 arch/arm/crypto/aes_glue.c                         |    4 +-
 arch/arm/crypto/sha1_glue.c                        |    2 +-
 arch/arm/crypto/sha1_neon_glue.c                   |    2 +-
 arch/arm/crypto/sha512_neon_glue.c                 |    4 +-
 arch/arm/include/asm/arch_timer.h                  |    9 +	clocksource: arch_timer: Fix code to use physical timers when requested
 arch/arm/include/asm/xen/page.h                    |    4 +
 arch/arm/kernel/setup.c                            |    9 +
 arch/arm/kernel/smp.c                              |   13 +-
 arch/arm/mach-imx/clk-imx6q.c                      |    4 +-
 arch/arm/mach-imx/clk-imx6sx.c                     |    3 +
 arch/arm/mach-mvebu/coherency.c                    |   58 +-
 arch/arm/mach-mvebu/coherency_ll.S                 |   21 +-
 arch/arm/mach-mvebu/system-controller.c            |    2 +-
 arch/arm/mach-omap2/common.h                       |    1 +
 arch/arm/mach-omap2/omap-headsmp.S                 |   21 +
 arch/arm/mach-omap2/omap-smp.c                     |   13 +-
 arch/arm/mach-omap2/omap_hwmod_7xx_data.c          |    2 +-
 arch/arm/mach-omap2/pm44xx.c                       |   29 +-
 arch/arm/mach-omap2/timer.c                        |    8 +-
 arch/arm/mach-pxa/corgi.c                          |    3 +
 arch/arm/mach-pxa/hx4700.c                         |    2 +
 arch/arm/mach-pxa/poodle.c                         |    2 +
 arch/arm/mach-sa1100/pm.c                          |    1 +
 arch/arm/mach-shmobile/setup-sh73a0.c              |    3 +
 arch/arm/mach-tegra/reset-handler.S                |    1 +
 arch/arm/mach-vexpress/Kconfig                     |    1 +
 arch/arm/mm/context.c                              |   26 +-
 arch/arm/xen/mm.c                                  |    7 +
 arch/arm64/crypto/aes-ce-ccm-glue.c                |    2 +-
 arch/arm64/crypto/aes-glue.c                       |    8 +-
 arch/arm64/include/asm/arch_timer.h                |    9 +
 arch/arm64/include/asm/hwcap.h                     |    1 +
 arch/arm64/kernel/efi.c                            |    2 +-
 arch/arm64/kernel/setup.c                          |  100 ++-
 arch/arm64/kernel/signal32.c                       |    5 +-
 arch/arm64/kernel/sleep.S                          |   36 +-
 arch/arm64/kernel/suspend.c                        |   18 +-
 arch/arm64/mm/init.c                               |    8 +-
 arch/arm64/net/bpf_jit_comp.c                      |   13 +-
 arch/avr32/mm/fault.c                              |    2 +
 arch/cris/mm/fault.c                               |    2 +
 arch/frv/mm/fault.c                                |    2 +
 arch/ia64/mm/fault.c                               |    2 +
 arch/m32r/mm/fault.c                               |    2 +
 arch/m68k/mm/fault.c                               |    2 +
 arch/metag/include/asm/processor.h                 |    4 +-
 arch/metag/mm/fault.c                              |    2 +
 arch/microblaze/mm/fault.c                         |    2 +
 arch/mips/alchemy/common/clock.c                   |    2 +
 arch/mips/cavium-octeon/smp.c                      |    2 -
 arch/mips/include/asm/asmmacro.h                   |    4 +-
 arch/mips/include/asm/cpu-info.h                   |    5 +
 arch/mips/include/asm/mipsregs.h                   |   15 +
 arch/mips/include/asm/mmu_context.h                |    7 +-
 arch/mips/include/asm/pgtable.h                    |   42 +-
 arch/mips/kernel/cps-vec.S                         |   16 +-
 arch/mips/kernel/cpu-probe.c                       |    4 +-
 arch/mips/kernel/irq_cpu.c                         |    4 +
 arch/mips/kernel/mips_ksyms.c                      |   10 +
 arch/mips/kernel/smp.c                             |    2 +-
 arch/mips/kernel/traps.c                           |    3 +-
 arch/mips/kvm/locore.S                             |    2 +-
 arch/mips/kvm/mips.c                               |   19 +-
 arch/mips/kvm/trace.h                              |    6 +-
 arch/mips/mm/fault.c                               |    2 +
 arch/mips/mm/tlb-r4k.c                             |    2 +
 arch/mips/net/bpf_jit.c                            |    4 +-
 arch/mn10300/mm/fault.c                            |    2 +
 arch/openrisc/mm/fault.c                           |    2 +
 arch/parisc/include/asm/ldcw.h                     |   13 +-
 arch/parisc/mm/fault.c                             |    2 +
 arch/powerpc/crypto/sha1.c                         |    3 +-
 arch/powerpc/include/asm/pnv-pci.h                 |    2 +-
 arch/powerpc/include/asm/reg.h                     |    2 +
 arch/powerpc/include/asm/syscall.h                 |    6 +-
 arch/powerpc/kernel/idle_power7.S                  |   18 +-
 arch/powerpc/kernel/mce_power.c                    |    4 +-
 arch/powerpc/kernel/udbg_16550.c                   |    6 +-
 arch/powerpc/mm/copro_fault.c                      |    2 +-
 arch/powerpc/mm/fault.c                            |    2 +
 arch/powerpc/perf/hv-24x7.c                        |   21 +-
 arch/powerpc/platforms/cell/spufs/inode.c          |    2 +-
 arch/powerpc/platforms/powernv/opal-wrappers.S     |    1 -
 arch/powerpc/platforms/powernv/pci-ioda.c          |    6 +-
 arch/powerpc/sysdev/axonram.c                      |    2 +-
 arch/powerpc/xmon/xmon.c                           |    1 +
 arch/s390/crypto/aes_s390.c                        |    2 +-
 arch/s390/crypto/des_s390.c                        |    4 +-
 arch/s390/crypto/ghash_s390.c                      |    2 +-
 arch/s390/crypto/sha1_s390.c                       |    2 +-
 arch/s390/crypto/sha256_s390.c                     |    4 +-
 arch/s390/crypto/sha512_s390.c                     |    4 +-
 arch/s390/kernel/compat_linux.c                    |    2 +-
 arch/s390/kvm/gaccess.c                            |   20 +-
 arch/s390/kvm/interrupt.c                          |   24 +-
 arch/s390/kvm/kvm-s390.c                           |    2 +-
 arch/s390/kvm/priv.c                               |    4 +-
 arch/s390/mm/fault.c                               |    6 +
 arch/score/mm/fault.c                              |    2 +
 arch/sh/mm/fault.c                                 |    2 +
 arch/sparc/crypto/aes_glue.c                       |    2 +-
 arch/sparc/crypto/camellia_glue.c                  |    2 +-
 arch/sparc/crypto/crc32c_glue.c                    |    2 +-
 arch/sparc/crypto/des_glue.c                       |    2 +-
 arch/sparc/crypto/md5_glue.c                       |    2 +-
 arch/sparc/crypto/sha1_glue.c                      |    2 +-
 arch/sparc/crypto/sha256_glue.c                    |    4 +-
 arch/sparc/crypto/sha512_glue.c                    |    4 +-
 arch/sparc/mm/fault_32.c                           |    2 +
 arch/sparc/mm/fault_64.c                           |    2 +
 arch/tile/mm/fault.c                               |    2 +
 arch/um/Kconfig.common                             |    1 +
 arch/um/kernel/trap.c                              |    2 +
 arch/x86/Kconfig                                   |    6 +-
 arch/x86/boot/Makefile                             |    1 +
 arch/x86/boot/compressed/Makefile                  |    3 +-
 arch/x86/boot/compressed/efi_stub_64.S             |   25 -
 arch/x86/boot/compressed/efi_thunk_64.S            |  196 ++++++
 arch/x86/boot/compressed/misc.c                    |    9 +-
 arch/x86/crypto/Makefile                           |    2 +-
 arch/x86/crypto/aes_ctrby8_avx-x86_64.S            |   46 +-
 arch/x86/crypto/aes_glue.c                         |    4 +-
 arch/x86/crypto/aesni-intel_glue.c                 |    2 +-
 arch/x86/crypto/blowfish_glue.c                    |    4 +-
 arch/x86/crypto/camellia_aesni_avx2_glue.c         |    4 +-
 arch/x86/crypto/camellia_aesni_avx_glue.c          |    4 +-
 arch/x86/crypto/camellia_glue.c                    |    4 +-
 arch/x86/crypto/cast5_avx_glue.c                   |    2 +-
 arch/x86/crypto/cast6_avx_glue.c                   |    2 +-
 arch/x86/crypto/crc32-pclmul_glue.c                |    4 +-
 arch/x86/crypto/crc32c-intel_glue.c                |    4 +-
 arch/x86/crypto/crct10dif-pclmul_glue.c            |    4 +-
 arch/x86/crypto/des3_ede_glue.c                    |    8 +-
 arch/x86/crypto/fpu.c                              |    3 +
 arch/x86/crypto/ghash-clmulni-intel_glue.c         |    2 +-
 arch/x86/crypto/salsa20_glue.c                     |    4 +-
 arch/x86/crypto/serpent_avx2_glue.c                |    4 +-
 arch/x86/crypto/serpent_avx_glue.c                 |    2 +-
 arch/x86/crypto/serpent_sse2_glue.c                |    2 +-
 arch/x86/crypto/sha-mb/sha1_mb.c                   |    2 +-
 arch/x86/crypto/sha1_ssse3_glue.c                  |    2 +-
 arch/x86/crypto/sha256_ssse3_glue.c                |    4 +-
 arch/x86/crypto/sha512_ssse3_glue.c                |    4 +-
 arch/x86/crypto/twofish_avx_glue.c                 |    2 +-
 arch/x86/crypto/twofish_glue.c                     |    4 +-
 arch/x86/crypto/twofish_glue_3way.c                |    4 +-
 arch/x86/include/asm/desc.h                        |   20 +-
 arch/x86/include/asm/microcode.h                   |    2 +
 arch/x86/include/asm/microcode_amd.h               |    4 +-
 arch/x86/include/asm/microcode_intel.h             |    2 +
 arch/x86/include/asm/vsyscall.h                    |    2 +-
 arch/x86/include/asm/xen/page.h                    |    7 +
 arch/x86/include/asm/xsave.h                       |   28 +-
 arch/x86/include/uapi/asm/ldt.h                    |    7 +
 arch/x86/kernel/acpi/boot.c                        |   22 +-
 arch/x86/kernel/cpu/Makefile                       |    1 +
 arch/x86/kernel/cpu/microcode/amd.c                |    8 +-
 arch/x86/kernel/cpu/microcode/amd_early.c          |   20 +-
 arch/x86/kernel/cpu/microcode/core.c               |   14 +-
 arch/x86/kernel/cpu/microcode/core_early.c         |   21 +
 arch/x86/kernel/cpu/microcode/intel_early.c        |   42 +-
 arch/x86/kernel/cpu/mshyperv.c                     |    1 +
 arch/x86/kernel/cpu/perf_event_intel.c             |    1 +
 arch/x86/kernel/cpu/perf_event_intel_rapl.c        |    2 +-
 arch/x86/kernel/cpu/perf_event_intel_uncore.c      |   22 +-
 arch/x86/kernel/cpu/perf_event_intel_uncore.h      |    2 +-
 .../x86/kernel/cpu/perf_event_intel_uncore_snbep.c |   17 +
 arch/x86/kernel/entry_64.S                         |   13 +-
 arch/x86/kernel/irq.c                              |    2 +-
 arch/x86/kernel/kprobes/core.c                     |   20 +-
 arch/x86/kernel/kvm.c                              |    9 +-
 arch/x86/kernel/kvmclock.c                         |    1 -
 arch/x86/kernel/pmc_atom.c                         |    4 +-
 arch/x86/kernel/process_64.c                       |  101 ++-
 arch/x86/kernel/tls.c                              |   62 +-
 arch/x86/kernel/traps.c                            |    5 +-
 arch/x86/kernel/tsc.c                              |    2 +-
 arch/x86/kernel/xsave.c                            |    1 +
 arch/x86/kvm/cpuid.c                               |   11 +-
 arch/x86/kvm/emulate.c                             |   36 +-
 arch/x86/kvm/mmu.c                                 |    2 +-
 arch/x86/kvm/vmx.c                                 |    4 +-
 arch/x86/kvm/x86.c                                 |  109 +++-
 arch/x86/mm/fault.c                                |   10 +-
 arch/x86/mm/gup.c                                  |    2 +-
 arch/x86/mm/hugetlbpage.c                          |    8 +-
 arch/x86/mm/mmap.c                                 |    6 +-
 arch/x86/pci/common.c                              |   16 +
 arch/x86/pci/i386.c                                |    2 +-
 arch/x86/pci/xen.c                                 |   47 --
 arch/x86/platform/efi/efi_stub_64.S                |  161 -----
 arch/x86/platform/efi/efi_thunk_64.S               |  121 +++-
 arch/x86/tools/calc_run_size.pl                    |   39 --
 arch/x86/tools/calc_run_size.sh                    |   42 ++
 arch/x86/um/sys_call_table_32.c                    |    2 +-
 arch/x86/um/sys_call_table_64.c                    |    2 +-
 arch/x86/vdso/vma.c                                |   45 +-
 arch/xtensa/include/asm/highmem.h                  |    2 +-
 arch/xtensa/mm/fault.c                             |    2 +
 block/blk-core.c                                   |    3 +
 block/blk-mq-cpumap.c                              |    2 +-
 block/blk-mq-sysfs.c                               |    9 +-
 block/blk-mq-tag.c                                 |   18 +-
 block/blk-sysfs.c                                  |   12 +-
 block/blk-throttle.c                               |    3 +
 block/cfq-iosched.c                                |   16 +-
 block/genhd.c                                      |   11 +-
 crypto/842.c                                       |    1 +
 crypto/aes_generic.c                               |    3 +-
 crypto/af_alg.c                                    |    3 +
 crypto/algapi.c                                    |    4 +-
 crypto/ansi_cprng.c                                |    3 +-
 crypto/anubis.c                                    |    1 +
 crypto/api.c                                       |    4 +-
 crypto/arc4.c                                      |    1 +
 crypto/authenc.c                                   |    1 +
 crypto/authencesn.c                                |    1 +
 crypto/blowfish_generic.c                          |    3 +-
 crypto/camellia_generic.c                          |    3 +-
 crypto/cast5_generic.c                             |    3 +-
 crypto/cast6_generic.c                             |    3 +-
 crypto/cbc.c                                       |    1 +
 crypto/ccm.c                                       |    5 +-
 crypto/chainiv.c                                   |    1 +
 crypto/cmac.c                                      |    1 +
 crypto/crc32.c                                     |    1 +
 crypto/crc32c_generic.c                            |    3 +-
 crypto/crct10dif_generic.c                         |    3 +-
 crypto/cryptd.c                                    |    1 +
 crypto/crypto_null.c                               |    6 +-
 crypto/ctr.c                                       |    3 +-
 crypto/cts.c                                       |    1 +
 crypto/deflate.c                                   |    2 +-
 crypto/des_generic.c                               |    7 +-
 crypto/ecb.c                                       |    1 +
 crypto/eseqiv.c                                    |    1 +
 crypto/fcrypt.c                                    |    1 +
 crypto/gcm.c                                       |    7 +-
 crypto/ghash-generic.c                             |    3 +-
 crypto/hmac.c                                      |    1 +
 crypto/khazad.c                                    |    1 +
 crypto/krng.c                                      |    3 +-
 crypto/lrw.c                                       |    1 +
 crypto/lz4.c                                       |    1 +
 crypto/lz4hc.c                                     |    1 +
 crypto/lzo.c                                       |    1 +
 crypto/mcryptd.c                                   |    1 +
 crypto/md4.c                                       |    2 +-
 crypto/md5.c                                       |    1 +
 crypto/michael_mic.c                               |    1 +
 crypto/pcbc.c                                      |    1 +
 crypto/pcrypt.c                                    |    1 +
 crypto/rmd128.c                                    |    1 +
 crypto/rmd160.c                                    |    1 +
 crypto/rmd256.c                                    |    1 +
 crypto/rmd320.c                                    |    1 +
 crypto/salsa20_generic.c                           |    3 +-
 crypto/seed.c                                      |    1 +
 crypto/seqiv.c                                     |    1 +
 crypto/serpent_generic.c                           |    5 +-
 crypto/sha1_generic.c                              |    3 +-
 crypto/sha256_generic.c                            |    6 +-
 crypto/sha512_generic.c                            |    6 +-
 crypto/tea.c                                       |    5 +-
 crypto/tgr192.c                                    |    5 +-
 crypto/twofish_generic.c                           |    3 +-
 crypto/vmac.c                                      |    1 +
 crypto/wp512.c                                     |    5 +-
 crypto/xcbc.c                                      |    1 +
 crypto/xts.c                                       |    1 +
 crypto/zlib.c                                      |    1 +
 drivers/acpi/acpi_lpss.c                           |   24 +-
 drivers/acpi/device_pm.c                           |   14 +-
 drivers/acpi/scan.c                                |   13 +-
 drivers/acpi/video.c                               |   38 +-
 drivers/ata/ahci_xgene.c                           |    2 +-
 drivers/ata/libata-core.c                          |    5 +-
 drivers/ata/libata-sff.c                           |   12 +
 drivers/ata/sata_dwc_460ex.c                       |   26 +-
 drivers/ata/sata_sil24.c                           |    2 +-
 drivers/base/bus.c                                 |    8 +-
 drivers/block/drbd/drbd_req.c                      |    3 +-
 drivers/block/rbd.c                                |   25 +-
 drivers/bluetooth/ath3k.c                          |   12 +
 drivers/bluetooth/btusb.c                          |   12 +-
 drivers/bus/mvebu-mbus.c                           |   13 +
 drivers/bus/omap_l3_noc.c                          |   63 +-
 drivers/char/i8k.c                                 |    8 +
 drivers/char/random.c                              |    8 +-
 drivers/char/tpm/tpm-interface.c                   |    2 +-
 drivers/char/tpm/tpm_i2c_atmel.c                   |    4 +
 drivers/char/tpm/tpm_i2c_nuvoton.c                 |    5 +
 drivers/char/tpm/tpm_i2c_stm_st33.c                |    2 +-
 drivers/char/tpm/tpm_ibmvtpm.c                     |   28 +-
 drivers/char/tpm/tpm_tis.c                         |   76 ++-
 drivers/clk/at91/clk-slow.c                        |   27 +
 drivers/clk/berlin/bg2q.c                          |    1 -
 drivers/clk/clk-gate.c                             |    2 +-
 drivers/clk/clk-ppc-corenet.c                      |    2 +-
 drivers/clk/clk.c                                  |   14 +-
 drivers/clk/rockchip/clk-rk3188.c                  |   15 +-
 drivers/clk/rockchip/clk-rk3288.c                  |   28 +-
 drivers/clk/samsung/clk-exynos-audss.c             |    4 +
 drivers/clk/sunxi/clk-sunxi.c                      |    1 +
 drivers/clk/zynq/clkc.c                            |    1 +
 drivers/clocksource/arm_arch_timer.c               |    5 +-
 drivers/clocksource/exynos_mct.c                   |    4 +-
 drivers/clocksource/mtk_timer.c                    |    9 +-
 drivers/cpufreq/cpufreq.c                          |    6 +-
 drivers/cpufreq/s3c2416-cpufreq.c                  |    4 +-
 drivers/cpufreq/s3c24xx-cpufreq.c                  |   10 +-
 drivers/cpufreq/speedstep-lib.c                    |    3 +
 drivers/cpufreq/speedstep-smi.c                    |   12 +
 drivers/crypto/padlock-aes.c                       |    2 +-
 drivers/crypto/padlock-sha.c                       |    8 +-
 drivers/crypto/qat/qat_common/adf_ctl_drv.c        |    3 +-
 drivers/crypto/ux500/cryp/cryp_core.c              |    4 +-
 drivers/crypto/ux500/hash/hash_core.c              |    8 +-
 drivers/dma-buf/reservation.c                      |    2 -
 drivers/edac/amd64_edac.c                          |   10 +-
 drivers/edac/sb_edac.c                             |    9 +-
 drivers/firmware/efi/libstub/efi-stub-helper.c     |    8 +-
 drivers/firmware/efi/runtime-map.c                 |    2 +-
 drivers/gpio/gpio-crystalcove.c                    |    2 +-
 drivers/gpio/gpio-mcp23s08.c                       |   17 +-
 drivers/gpio/gpio-tps65912.c                       |   14 +-
 drivers/gpio/gpiolib-of.c                          |    9 +-
 drivers/gpio/gpiolib-sysfs.c                       |   50 +-
 drivers/gpio/gpiolib.c                             |   18 +-
 drivers/gpu/drm/drm_dp_helper.c                    |    7 +-
 drivers/gpu/drm/drm_dp_mst_topology.c              |    5 +-
 drivers/gpu/drm/drm_fb_helper.c                    |   43 +-
 drivers/gpu/drm/drm_irq.c                          |    3 +-
 drivers/gpu/drm/i915/i915_drv.c                    |    3 +-
 drivers/gpu/drm/i915/i915_drv.h                    |    7 +-
 drivers/gpu/drm/i915/i915_gem.c                    |   33 +-
 drivers/gpu/drm/i915/i915_gem_context.c            |   48 +-
 drivers/gpu/drm/i915/i915_gem_stolen.c             |    6 +-
 drivers/gpu/drm/i915/i915_gem_tiling.c             |    7 +-
 drivers/gpu/drm/i915/i915_gem_userptr.c            |   20 +-
 drivers/gpu/drm/i915/i915_irq.c                    |   28 +-
 drivers/gpu/drm/i915/i915_reg.h                    |    4 +
 drivers/gpu/drm/i915/i915_suspend.c                |    8 +
 drivers/gpu/drm/i915/intel_display.c               |   13 +-
 drivers/gpu/drm/i915/intel_dp.c                    |   17 +-
 drivers/gpu/drm/i915/intel_lrc.c                   |   20 +-
 drivers/gpu/drm/i915/intel_panel.c                 |    2 +-
 drivers/gpu/drm/i915/intel_pm.c                    |   27 -
 drivers/gpu/drm/i915/intel_ringbuffer.c            |   26 +-
 drivers/gpu/drm/i915/intel_sideband.c              |   26 +-
 drivers/gpu/drm/i915/intel_uncore.c                |    4 +-
 drivers/gpu/drm/nouveau/core/core/event.c          |    4 +-
 drivers/gpu/drm/nouveau/core/core/notify.c         |    2 +-
 drivers/gpu/drm/nouveau/core/subdev/mc/nv4c.c      |    8 -
 drivers/gpu/drm/nouveau/nouveau_ttm.c              |    3 +-
 drivers/gpu/drm/radeon/atombios_crtc.c             |    8 +-
 drivers/gpu/drm/radeon/atombios_dp.c               |    8 +-
 drivers/gpu/drm/radeon/ci_dpm.c                    |    2 +-
 drivers/gpu/drm/radeon/cik.c                       |   40 +-
 drivers/gpu/drm/radeon/dce3_1_afmt.c               |    2 +-
 drivers/gpu/drm/radeon/kv_dpm.c                    |   27 +-
 drivers/gpu/drm/radeon/ni.c                        |    8 +-
 drivers/gpu/drm/radeon/r100.c                      |   10 +-
 drivers/gpu/drm/radeon/r300.c                      |   16 +-
 drivers/gpu/drm/radeon/r600_dpm.c                  |    2 +-
 drivers/gpu/drm/radeon/radeon.h                    |    8 +-
 drivers/gpu/drm/radeon/radeon_asic.c               |   42 +-
 drivers/gpu/drm/radeon/radeon_asic.h               |   12 +-
 drivers/gpu/drm/radeon/radeon_atombios.c           |    1 +
 drivers/gpu/drm/radeon/radeon_benchmark.c          |   13 +-
 drivers/gpu/drm/radeon/radeon_device.c             |    2 +
 drivers/gpu/drm/radeon/radeon_display.c            |    3 +
 drivers/gpu/drm/radeon/radeon_encoders.c           |    3 +
 drivers/gpu/drm/radeon/radeon_gart.c               |   50 +-
 drivers/gpu/drm/radeon/radeon_gem.c                |    6 +-
 drivers/gpu/drm/radeon/radeon_kms.c                |   16 +-
 drivers/gpu/drm/radeon/radeon_object.c             |   12 +
 drivers/gpu/drm/radeon/radeon_pm.c                 |   33 +
 drivers/gpu/drm/radeon/radeon_test.c               |    8 +-
 drivers/gpu/drm/radeon/radeon_ttm.c                |    2 +-
 drivers/gpu/drm/radeon/radeon_vm.c                 |    6 +-
 drivers/gpu/drm/radeon/rs400.c                     |   14 +-
 drivers/gpu/drm/radeon/rs600.c                     |   14 +-
 drivers/gpu/drm/radeon/si_dpm.c                    |   39 ++
 drivers/gpu/drm/tegra/drm.c                        |    2 +-
 drivers/gpu/drm/tegra/gem.c                        |   10 +-
 drivers/gpu/drm/ttm/ttm_page_alloc.c               |   26 +-
 drivers/gpu/drm/ttm/ttm_page_alloc_dma.c           |   25 +-
 drivers/gpu/drm/vmwgfx/vmwgfx_drv.c                |   36 +-
 drivers/gpu/drm/vmwgfx/vmwgfx_drv.h                |   25 +-
 drivers/gpu/drm/vmwgfx/vmwgfx_fence.c              |   57 +-
 drivers/gpu/drm/vmwgfx/vmwgfx_fifo.c               |   36 +-
 drivers/gpu/drm/vmwgfx/vmwgfx_ioctl.c              |    8 +-
 drivers/gpu/drm/vmwgfx/vmwgfx_irq.c                |   25 +-
 drivers/gpu/drm/vmwgfx/vmwgfx_kms.c                |    2 -
 drivers/hid/hid-core.c                             |    1 +
 drivers/hid/hid-ids.h                              |    2 +
 drivers/hid/hid-input.c                            |   20 +
 drivers/hid/hid-kye.c                              |    4 +
 drivers/hid/hid-rmi.c                              |   61 +-
 drivers/hid/hid-roccat-pyra.c                      |    8 +-
 drivers/hid/i2c-hid/i2c-hid.c                      |   20 +-
 drivers/hid/usbhid/hid-quirks.c                    |    2 +
 drivers/hid/wacom_sys.c                            |    9 +-
 drivers/hid/wacom_wac.c                            |    7 +
 drivers/hv/channel_mgmt.c                          |   11 +-
 drivers/i2c/busses/i2c-s3c2410.c                   |   23 +-
 drivers/iio/adc/ad799x.c                           |   15 +-
 drivers/iio/adc/mcp3422.c                          |   17 +-
 drivers/iio/dac/ad5686.c                           |    2 +-
 drivers/iio/imu/adis16400_core.c                   |    3 +-
 drivers/infiniband/core/ucma.c                     |    3 +
 drivers/infiniband/core/uverbs_cmd.c               |    9 +-
 drivers/infiniband/hw/mlx4/main.c                  |   10 +-
 drivers/infiniband/hw/mlx4/qp.c                    |    6 +-
 drivers/infiniband/hw/mlx5/main.c                  |    2 +-
 drivers/infiniband/hw/qib/qib.h                    |    9 +-
 drivers/infiniband/hw/qib/qib_eeprom.c             |  181 ------
 drivers/infiniband/hw/qib/qib_iba6120.c            |    2 -
 drivers/infiniband/hw/qib/qib_iba7220.c            |    2 -
 drivers/infiniband/hw/qib/qib_iba7322.c            |    2 -
 drivers/infiniband/hw/qib/qib_init.c               |    1 -
 drivers/infiniband/hw/qib/qib_sysfs.c              |   24 -
 drivers/infiniband/ulp/iser/iscsi_iser.h           |    6 +-
 drivers/infiniband/ulp/iser/iser_initiator.c       |   22 +-
 drivers/infiniband/ulp/iser/iser_memory.c          |    9 +-
 drivers/infiniband/ulp/iser/iser_verbs.c           |   25 +-
 drivers/infiniband/ulp/isert/ib_isert.c            |  640 +++++++++++++-------
 drivers/infiniband/ulp/isert/ib_isert.h            |   15 +-
 drivers/input/mouse/alps.c                         |   56 +-
 drivers/input/mouse/elantech.c                     |   18 +
 drivers/input/mouse/synaptics.c                    |    7 +-
 drivers/input/serio/i8042-x86ia64io.h              |   47 ++
 drivers/input/serio/i8042.c                        |   14 +
 drivers/iommu/intel-iommu.c                        |   12 +-
 drivers/irqchip/irq-atmel-aic-common.c             |    4 +-
 drivers/irqchip/irq-omap-intc.c                    |   26 +-
 drivers/leds/leds-netxbig.c                        |   12 +-
 drivers/md/dm-bufio.c                              |   20 +-
 drivers/md/dm-cache-metadata.c                     |  104 +++-
 drivers/md/dm-cache-target.c                       |  106 ++--
 drivers/md/dm-crypt.c                              |    2 +-
 drivers/md/dm-io.c                                 |    6 +
 drivers/md/dm-raid1.c                              |    9 +
 drivers/md/dm-snap.c                               |    4 +-
 drivers/md/dm-thin.c                               |   36 +-
 drivers/md/dm.c                                    |   29 +-
 drivers/md/persistent-data/dm-space-map-metadata.c |    4 +-
 drivers/md/raid1.c                                 |    5 +-
 drivers/md/raid5.c                                 |   15 +-
 drivers/media/dvb-frontends/si2168.c               |    2 +
 drivers/media/i2c/smiapp-pll.c                     |    4 +-
 drivers/media/i2c/smiapp/smiapp-core.c             |    2 +
 drivers/media/pci/cx23885/cx23885-cards.c          |   23 +-
 drivers/media/pci/cx23885/cx23885-dvb.c            |   11 +
 drivers/media/pci/cx23885/cx23885.h                |    1 +
 drivers/media/platform/Kconfig                     |    6 +-
 drivers/media/platform/vivid/vivid-vid-out.c       |    2 +-
 drivers/media/rc/img-ir/img-ir-hw.c                |   28 +-
 drivers/media/rc/img-ir/img-ir-hw.h                |    3 +
 drivers/media/rc/ir-lirc-codec.c                   |   12 +-
 drivers/media/rc/rc-main.c                         |   14 +-
 drivers/media/usb/au0828/au0828-cards.c            |    5 +
 drivers/media/usb/dvb-usb-v2/lmedm04.c             |   14 +-
 drivers/media/usb/dvb-usb/af9005.c                 |    3 +
 drivers/media/usb/em28xx/em28xx-audio.c            |    8 +-
 drivers/media/usb/em28xx/em28xx-core.c             |    4 +-
 drivers/media/usb/em28xx/em28xx-dvb.c              |   14 +-
 drivers/media/usb/em28xx/em28xx-input.c            |    6 +-
 drivers/media/usb/em28xx/em28xx-video.c            |    6 +-
 drivers/media/usb/uvc/uvc_driver.c                 |    6 +-
 drivers/media/v4l2-core/videobuf2-core.c           |   19 +-
 drivers/mfd/rtsx_usb.c                             |   12 -
 drivers/mfd/tc6393xb.c                             |   13 +-
 drivers/mfd/tps65218.c                             |   12 +
 drivers/mfd/twl4030-power.c                        |    3 +
 drivers/misc/cxl/context.c                         |   26 +-
 drivers/misc/cxl/cxl.h                             |   10 +-
 drivers/misc/cxl/file.c                            |    6 +-
 drivers/misc/cxl/irq.c                             |    1 +
 drivers/misc/cxl/native.c                          |   12 +-
 drivers/misc/cxl/pci.c                             |   46 +-
 drivers/misc/cxl/sysfs.c                           |   10 +-
 drivers/misc/genwqe/card_utils.c                   |    2 +
 drivers/misc/mei/hw-me.c                           |   15 +-
 drivers/misc/mei/init.c                            |    2 +
 drivers/mmc/card/block.c                           |    2 +-
 drivers/mmc/host/dw_mmc.c                          |    7 +
 drivers/mmc/host/omap_hsmmc.c                      |    4 +-
 drivers/mmc/host/sdhci-pci-o2micro.c               |    2 -
 drivers/mmc/host/sdhci-pxav3.c                     |   52 +-
 drivers/mmc/host/sdhci.c                           |   14 +-
 drivers/mtd/devices/m25p80.c                       |    6 +-
 drivers/mtd/nand/omap2.c                           |    7 -
 drivers/mtd/tests/torturetest.c                    |    4 +-
 drivers/mtd/ubi/upd.c                              |   10 +-
 drivers/mtd/ubi/wl.c                               |   10 +-
 drivers/net/can/c_can/c_can.c                      |    4 +
 drivers/net/can/dev.c                              |    8 +-
 drivers/net/can/m_can/m_can.c                      |    5 +
 drivers/net/can/usb/kvaser_usb.c                   |   46 +-
 drivers/net/can/usb/peak_usb/pcan_usb_core.c       |   17 +-
 drivers/net/can/usb/peak_usb/pcan_usb_pro.c        |    3 +-
 drivers/net/ethernet/atheros/alx/main.c            |   24 +-
 drivers/net/ethernet/broadcom/bnx2x/bnx2x_cmn.c    |    2 +-
 drivers/net/ethernet/broadcom/genet/bcmgenet.c     |  113 +++-
 drivers/net/ethernet/broadcom/genet/bcmgenet.h     |    2 +
 drivers/net/ethernet/broadcom/tg3.c                |   34 +-
 drivers/net/ethernet/cisco/enic/enic_main.c        |   12 +-
 drivers/net/ethernet/emulex/benet/be_main.c        |    8 +-
 drivers/net/ethernet/intel/Kconfig                 |   11 +
 drivers/net/ethernet/intel/i40e/Makefile           |    2 +-
 drivers/net/ethernet/intel/i40e/i40e_osdep.h       |    4 +-
 drivers/net/ethernet/marvell/mvneta.c              |    5 +-
 drivers/net/ethernet/mellanox/mlx4/en_netdev.c     |   21 +-
 drivers/net/ethernet/mellanox/mlx4/en_tx.c         |   12 +-
 drivers/net/ethernet/mellanox/mlx4/fw.c            |    4 +-
 drivers/net/ethernet/mellanox/mlx4/mr.c            |    9 +-
 .../net/ethernet/qlogic/netxen/netxen_nic_main.c   |    5 +-
 drivers/net/ethernet/qlogic/qlcnic/qlcnic_main.c   |    8 +-
 drivers/net/ethernet/realtek/r8169.c               |   18 +-
 drivers/net/ethernet/ti/cpsw.c                     |   52 +-
 drivers/net/ethernet/ti/cpsw_ale.c                 |   10 +-
 drivers/net/ethernet/ti/cpsw_ale.h                 |    2 +-
 drivers/net/hyperv/netvsc.c                        |   11 +-
 drivers/net/macvtap.c                              |    7 +-
 drivers/net/phy/phy.c                              |   23 +-
 drivers/net/ppp/ppp_deflate.c                      |    2 +-
 drivers/net/team/team.c                            |   26 +-
 drivers/net/usb/plusb.c                            |    5 +
 drivers/net/vxlan.c                                |   10 +-
 drivers/net/wireless/ath/ath5k/qcu.c               |    8 +-
 drivers/net/wireless/ath/ath5k/reset.c             |    2 +-
 drivers/net/wireless/ath/ath9k/hw.h                |    4 +-
 drivers/net/wireless/ath/ath9k/mac.c               |    9 +-
 drivers/net/wireless/brcm80211/brcmfmac/msgbuf.c   |   10 +
 drivers/net/wireless/iwlwifi/dvm/commands.h        |   31 +-
 drivers/net/wireless/iwlwifi/dvm/lib.c             |   47 +-
 drivers/net/wireless/iwlwifi/mvm/fw-api-scan.h     |    2 +
 drivers/net/wireless/iwlwifi/mvm/fw-api.h          |    2 +-
 drivers/net/wireless/iwlwifi/mvm/mac80211.c        |    5 +-
 drivers/net/wireless/iwlwifi/mvm/scan.c            |    1 +
 drivers/net/wireless/iwlwifi/mvm/tx.c              |    5 +
 drivers/net/wireless/iwlwifi/mvm/utils.c           |    2 +-
 drivers/net/wireless/iwlwifi/pcie/drv.c            |    4 +
 drivers/net/wireless/iwlwifi/pcie/tx.c             |    7 +-
 drivers/net/wireless/rtlwifi/pci.c                 |   29 +-
 drivers/net/wireless/rtlwifi/pci.h                 |    7 +
 drivers/net/wireless/rtlwifi/rtl8192ce/hw.c        |    5 +-
 drivers/net/wireless/rtlwifi/rtl8192ce/sw.c        |    3 +
 drivers/net/wireless/rtlwifi/rtl8192ce/trx.c       |   24 +-
 drivers/net/wireless/rtlwifi/rtl8192ce/trx.h       |    2 +
 drivers/net/wireless/rtlwifi/rtl8192ee/fw.c        |    6 +-
 drivers/net/wireless/rtlwifi/rtl8192ee/hw.c        |  166 ++++-
 drivers/net/wireless/rtlwifi/rtl8192ee/reg.h       |    2 +
 drivers/net/wireless/rtlwifi/rtl8192ee/trx.c       |   16 +-
 drivers/net/wireless/rtlwifi/rtl8192ee/trx.h       |    2 +
 drivers/net/xen-netback/common.h                   |    4 +-
 drivers/net/xen-netback/interface.c                |    4 +-
 drivers/net/xen-netback/netback.c                  |   27 +-
 drivers/net/xen-netback/xenbus.c                   |   13 +-
 drivers/net/xen-netfront.c                         |    3 +
 drivers/of/of_pci.c                                |    4 +
 drivers/pci/bus.c                                  |   43 ++
 drivers/pci/host/pcie-designware.c                 |    3 +
 drivers/pci/pci-driver.c                           |    2 +-
 drivers/pci/pci.c                                  |   40 +-
 drivers/pci/pci.h                                  |    1 +
 drivers/pci/probe.c                                |    3 +
 drivers/pci/quirks.c                               |   54 +-
 drivers/pci/rom.c                                  |    7 +-
 drivers/pci/setup-bus.c                            |   56 +-
 drivers/pinctrl/core.c                             |    5 +-
 drivers/pinctrl/freescale/pinctrl-imx.c            |    2 +-
 drivers/pinctrl/freescale/pinctrl-imx25.c          |  276 +++++----
 drivers/pinctrl/pinctrl-at91.c                     |  108 ++--
 drivers/pinctrl/pinctrl-xway.c                     |    2 -
 drivers/pinctrl/qcom/pinctrl-msm.c                 |    4 +-
 drivers/platform/x86/asus-nb-wmi.c                 |    9 +
 drivers/platform/x86/hp_accel.c                    |    1 +
 drivers/platform/x86/samsung-laptop.c              |   20 +-
 drivers/power/88pm860x_charger.c                   |    1 +
 drivers/power/bq24190_charger.c                    |    2 +-
 drivers/power/gpio-charger.c                       |    4 +-
 drivers/regulator/anatop-regulator.c               |    8 +
 drivers/regulator/core.c                           |    4 +-
 drivers/regulator/s2mps11.c                        |   19 +-
 drivers/reset/reset-sunxi.c                        |    4 +
 drivers/rtc/rtc-isl12057.c                         |    4 +-
 drivers/rtc/rtc-omap.c                             |   11 +-
 drivers/rtc/rtc-s5m.c                              |    1 +
 drivers/rtc/rtc-sirfsoc.c                          |   16 +-
 drivers/s390/crypto/ap_bus.c                       |    3 +-
 drivers/scsi/NCR5380.c                             |   12 +-
 drivers/scsi/aha1740.c                             |    2 +-
 drivers/scsi/atari_NCR5380.c                       |    2 +-
 drivers/scsi/be2iscsi/be_main.c                    |    1 -
 drivers/scsi/esas2r/esas2r_main.c                  |    2 +-
 drivers/scsi/ipr.c                                 |   92 +++
 drivers/scsi/ipr.h                                 |    1 +
 drivers/scsi/megaraid.c                            |    8 +-
 drivers/scsi/megaraid/megaraid_sas_base.c          |   26 +-
 drivers/scsi/megaraid/megaraid_sas_fp.c            |   28 +-
 drivers/scsi/megaraid/megaraid_sas_fusion.c        |   37 +-
 drivers/scsi/megaraid/megaraid_sas_fusion.h        |    9 +-
 drivers/scsi/mpt2sas/mpt2sas_transport.c           |    5 +-
 drivers/scsi/mpt3sas/mpt3sas_transport.c           |    5 +-
 drivers/scsi/scsi_devinfo.c                        |    1 +
 drivers/scsi/scsi_error.c                          |    4 +-
 drivers/scsi/scsi_lib.c                            |    4 +-
 drivers/scsi/sd.c                                  |    6 +-
 drivers/scsi/sg.c                                  |   40 +-
 drivers/scsi/storvsc_drv.c                         |    7 +-
 drivers/scsi/sun3_NCR5380.c                        |   10 +-
 drivers/spi/spi-dw-mid.c                           |    1 -
 drivers/spi/spi-dw.c                               |    4 +-
 drivers/spi/spi-fsl-dspi.c                         |   14 +-
 drivers/spi/spi-imx.c                              |    4 +
 drivers/spi/spi-pxa2xx.c                           |    2 +-
 drivers/spi/spi-sh-msiof.c                         |    5 +
 drivers/staging/comedi/comedi_compat32.c           |   12 +-
 drivers/staging/comedi/drivers/cb_pcidas64.c       |  122 ++--
 drivers/staging/iio/adc/mxs-lradc.c                |  207 +++----
 drivers/staging/lustre/lustre/llite/dcache.c       |    2 +-
 drivers/staging/lustre/lustre/llite/llite_lib.c    |    2 +-
 drivers/staging/lustre/lustre/llite/namei.c        |    8 +-
 drivers/staging/lustre/lustre/llite/vvp_io.c       |    2 +-
 drivers/target/iscsi/iscsi_target_login.c          |   10 +-
 drivers/target/iscsi/iscsi_target_tq.c             |   28 +-
 drivers/target/iscsi/iscsi_target_util.c           |   26 +-
 drivers/target/loopback/tcm_loop.c                 |   66 +-
 drivers/target/loopback/tcm_loop.h                 |    7 +-
 drivers/target/target_core_device.c                |    8 +-
 drivers/target/target_core_file.c                  |   11 +-
 drivers/target/target_core_iblock.c                |    2 +-
 drivers/target/target_core_pr.c                    |   25 +-
 drivers/target/target_core_sbc.c                   |   30 +-
 drivers/target/target_core_spc.c                   |    5 +-
 drivers/thermal/intel_powerclamp.c                 |    2 -
 drivers/thermal/thermal_core.c                     |    4 +-
 drivers/tty/n_tty.c                                |    3 +-
 drivers/tty/pty.c                                  |    3 +
 drivers/tty/serial/8250/8250_core.c                |   11 +-
 drivers/tty/serial/atmel_serial.c                  |    4 +-
 drivers/tty/serial/fsl_lpuart.c                    |   16 +-
 drivers/tty/serial/men_z135_uart.c                 |    1 +
 drivers/tty/serial/samsung.c                       |    4 +
 drivers/tty/serial/serial_core.c                   |    4 +-
 drivers/tty/tty_io.c                               |    4 +-
 drivers/tty/tty_ioctl.c                            |   12 +-
 drivers/tty/vt/vt.c                                |    4 +-
 drivers/usb/class/cdc-acm.c                        |   10 +-
 drivers/usb/core/buffer.c                          |   26 +-
 drivers/usb/core/devio.c                           |    2 +
 drivers/usb/core/driver.c                          |   29 +-
 drivers/usb/core/hcd.c                             |   16 +-
 drivers/usb/core/hub.c                             |   25 +-
 drivers/usb/core/message.c                         |   23 +-
 drivers/usb/core/otg_whitelist.h                   |    5 +
 drivers/usb/core/quirks.c                          |    7 +
 drivers/usb/core/usb.c                             |    1 +
 drivers/usb/dwc3/dwc3-omap.c                       |   30 +-
 drivers/usb/dwc3/gadget.c                          |    6 +-
 drivers/usb/gadget/configfs.c                      |    2 -
 drivers/usb/gadget/legacy/inode.c                  |    1 +
 drivers/usb/gadget/udc/at91_udc.c                  |   44 +-
 drivers/usb/gadget/udc/atmel_usba_udc.c            |   19 +-
 drivers/usb/host/ehci-sched.c                      |    8 +-
 drivers/usb/host/isp1760-hcd.c                     |    3 +
 drivers/usb/host/pci-quirks.c                      |   18 +-
 drivers/usb/host/xhci-pci.c                        |   32 +
 drivers/usb/host/xhci-plat.c                       |   18 +-
 drivers/usb/host/xhci-ring.c                       |   10 +-
 drivers/usb/host/xhci.c                            |    9 +
 drivers/usb/host/xhci.h                            |    9 +-
 drivers/usb/musb/musb_host.c                       |    1 -
 drivers/usb/renesas_usbhs/mod_gadget.c             |    3 +
 drivers/usb/serial/bus.c                           |   13 +-
 drivers/usb/serial/console.c                       |   16 +-
 drivers/usb/serial/cp210x.c                        |    7 +-
 drivers/usb/serial/ftdi_sio.c                      |   19 +
 drivers/usb/serial/ftdi_sio_ids.h                  |   23 +
 drivers/usb/serial/generic.c                       |    5 +-
 drivers/usb/serial/keyspan.c                       |   20 +-
 drivers/usb/serial/mxuport.c                       |    3 +-
 drivers/usb/serial/option.c                        |   11 +-
 drivers/usb/serial/qcserial.c                      |   34 +-
 drivers/usb/serial/usb-serial.c                    |    5 +-
 drivers/usb/storage/unusual_devs.h                 |    7 +
 drivers/usb/storage/unusual_uas.h                  |   42 ++
 drivers/vfio/pci/vfio_pci.c                        |    4 +-
 drivers/vhost/scsi.c                               |   24 +-
 drivers/video/fbdev/core/fb_defio.c                |    5 +-
 drivers/video/logo/logo.c                          |   17 +-
 drivers/xen/manage.c                               |    8 +-
 drivers/xen/swiotlb-xen.c                          |   13 +-
 drivers/xen/xen-scsiback.c                         |   14 +-
 fs/affs/amigaffs.c                                 |    2 +-
 fs/autofs4/dev-ioctl.c                             |    8 +-
 fs/autofs4/expire.c                                |   12 +-
 fs/autofs4/root.c                                  |    2 +-
 fs/binfmt_elf.c                                    |    5 +-
 fs/btrfs/ctree.c                                   |   17 +-
 fs/btrfs/delayed-inode.c                           |    8 +
 fs/btrfs/disk-io.c                                 |   37 +-
 fs/btrfs/extent-tree.c                             |   10 +-
 fs/btrfs/extent_map.c                              |    2 -
 fs/btrfs/file.c                                    |   56 +-
 fs/btrfs/inode.c                                   |    1 -
 fs/btrfs/ordered-data.c                            |    8 +-
 fs/btrfs/ordered-data.h                            |    8 +-
 fs/btrfs/super.c                                   |    2 +-
 fs/btrfs/transaction.c                             |   33 +
 fs/btrfs/transaction.h                             |    2 +
 fs/btrfs/tree-log.c                                |  101 ++-
 fs/ceph/addr.c                                     |    2 +-
 fs/ceph/dir.c                                      |    8 +-
 fs/ceph/inode.c                                    |    2 +-
 fs/cifs/file.c                                     |    6 +-
 fs/cifs/inode.c                                    |    2 +-
 fs/cifs/ioctl.c                                    |   21 +-
 fs/coda/cache.c                                    |    2 +-
 fs/dcache.c                                        |   82 +--
 fs/debugfs/inode.c                                 |   36 +-
 fs/ecryptfs/crypto.c                               |    1 -
 fs/ecryptfs/file.c                                 |   46 +-
 fs/ecryptfs/main.c                                 |   16 +-
 fs/exportfs/expfs.c                                |    2 +-
 fs/ext4/super.c                                    |    5 +-
 fs/f2fs/data.c                                     |   24 +-
 fs/f2fs/segment.c                                  |    2 +-
 fs/fs-writeback.c                                  |   29 +-
 fs/gfs2/acl.c                                      |    2 +-
 fs/gfs2/quota.c                                    |   49 +-
 fs/isofs/rock.c                                    |    9 +
 fs/jffs2/scan.c                                    |    5 +
 fs/libfs.c                                         |   12 +-
 fs/lockd/mon.c                                     |   13 +-
 fs/lockd/svc.c                                     |    8 +-
 fs/locks.c                                         |    2 +-
 fs/namespace.c                                     |   13 +-
 fs/ncpfs/dir.c                                     |    2 +-
 fs/ncpfs/ioctl.c                                   |    1 -
 fs/ncpfs/ncplib_kernel.h                           |    4 +-
 fs/nfs/callback.c                                  |    8 +-
 fs/nfs/callback_xdr.c                              |    4 +-
 fs/nfs/delegation.c                                |    2 +-
 fs/nfs/dir.c                                       |    6 +
 fs/nfs/direct.c                                    |    8 +-
 fs/nfs/getroot.c                                   |    2 +-
 fs/nfs/internal.h                                  |   22 +-
 fs/nfs/nfs4client.c                                |   19 +-
 fs/nfs/nfs4proc.c                                  |   20 +-
 fs/nfs/pnfs.c                                      |   41 +-
 fs/nfs/super.c                                     |    9 +-
 fs/nfsd/nfs4state.c                                |   19 +-
 fs/nfsd/nfs4xdr.c                                  |    5 +-
 fs/nilfs2/btree.c                                  |   47 +-
 fs/nilfs2/inode.c                                  |   32 +-
 fs/nilfs2/namei.c                                  |   15 +-
 fs/nilfs2/nilfs.h                                  |    2 -
 fs/nilfs2/segment.c                                |   44 +-
 fs/nilfs2/segment.h                                |    5 +
 fs/notify/fsnotify.c                               |    4 +-
 fs/ocfs2/aops.c                                    |   16 +-
 fs/ocfs2/dcache.c                                  |    2 +-
 fs/ocfs2/namei.c                                   |   43 +-
 fs/ocfs2/quota_local.c                             |    4 +-
 fs/proc/base.c                                     |   53 ++
 fs/proc/generic.c                                  |   12 -
 fs/proc/inode.c                                    |   21 +
 fs/proc/internal.h                                 |    1 +
 fs/proc/stat.c                                     |    2 +-
 fs/proc/task_mmu.c                                 |   14 +-
 fs/pstore/ram.c                                    |   13 +-
 fs/pstore/ram_core.c                               |   31 +-
 fs/quota/dquot.c                                   |   97 ++-
 fs/quota/quota.c                                   |  162 ++++-
 fs/quota/quota_v1.c                                |    4 +-
 fs/quota/quota_v2.c                                |   10 +-
 fs/reiserfs/super.c                                |    3 +
 fs/udf/dir.c                                       |    3 +-
 fs/udf/file.c                                      |    2 +-
 fs/udf/inode.c                                     |   38 +-
 fs/udf/namei.c                                     |    3 +-
 fs/udf/symlink.c                                   |   57 +-
 fs/udf/udfdecl.h                                   |    3 +-
 fs/udf/unicode.c                                   |   28 +-
 fs/xfs/libxfs/xfs_bmap.c                           |    6 +-
 fs/xfs/libxfs/xfs_symlink_remote.c                 |    2 +
 fs/xfs/xfs_buf_item.c                              |    4 +
 fs/xfs/xfs_inode.c                                 |    2 +
 fs/xfs/xfs_qm.c                                    |    5 +
 fs/xfs/xfs_qm.h                                    |    4 +-
 fs/xfs/xfs_qm_syscalls.c                           |  156 ++---
 fs/xfs/xfs_quotaops.c                              |    8 +-
 fs/xfs/xfs_trans.c                                 |    1 +
 include/acpi/acpi_bus.h                            |    1 +
 include/drm/i915_pciids.h                          |    4 +-
 include/linux/audit.h                              |    4 +
 include/linux/cred.h                               |    1 +
 include/linux/crypto.h                             |   13 +
 include/linux/dcache.h                             |    8 +-
 include/linux/fsnotify.h                           |    6 +-
 include/linux/kernel_stat.h                        |    1 +
 include/linux/libata.h                             |    1 +
 include/linux/mm.h                                 |    8 +-
 include/linux/netdevice.h                          |   20 +-
 include/linux/nfs_xdr.h                            |    2 +-
 include/linux/pagemap.h                            |   13 +-
 include/linux/pci.h                                |    3 +
 include/linux/pstore_ram.h                         |    4 +-
 include/linux/quota.h                              |   51 +-
 include/linux/quotaops.h                           |    4 +-
 include/linux/sunrpc/clnt.h                        |    3 +-
 include/linux/time.h                               |   13 +
 include/linux/tracepoint.h                         |    2 +-
 include/linux/usb.h                                |    5 -
 include/linux/usb/hcd.h                            |    3 +
 include/linux/usb/serial.h                         |    3 +-
 include/linux/user_namespace.h                     |   12 +
 include/linux/writeback.h                          |    1 -
 include/net/cipso_ipv4.h                           |   25 +-
 include/net/ip.h                                   |   13 +-
 include/net/mac80211.h                             |    7 +-
 include/net/netns/ipv4.h                           |    1 +
 include/net/sch_generic.h                          |   13 +-
 include/net/vxlan.h                                |   28 +-
 include/sound/ak4113.h                             |    2 +-
 include/sound/ak4114.h                             |    2 +-
 include/target/target_core_base.h                  |    2 +-
 include/trace/events/kmem.h                        |    7 +-
 include/trace/events/sched.h                       |    2 +-
 include/trace/events/tlb.h                         |    4 +-
 include/uapi/linux/audit.h                         |    2 +
 include/uapi/linux/can/netlink.h                   |    1 +
 include/uapi/linux/hyperv.h                        |    1 +
 include/uapi/linux/in6.h                           |    3 +-
 include/uapi/linux/libc-compat.h                   |    3 +
 include/uapi/linux/target_core_user.h              |    4 -
 kernel/audit.c                                     |    8 +-
 kernel/auditfilter.c                               |   23 +-
 kernel/debug/kdb/kdb_main.c                        |    2 +-
 kernel/events/core.c                               |    4 +-
 kernel/exit.c                                      |   12 +-
 kernel/groups.c                                    |   11 +-
 kernel/irq/internals.h                             |    4 +
 kernel/irq/irqdesc.c                               |   52 ++
 kernel/irq/proc.c                                  |   22 +-
 kernel/locking/rtmutex.c                           |    3 +-
 kernel/pid.c                                       |    2 +
 kernel/sched/auto_group.c                          |    6 +-
 kernel/sched/core.c                                |   20 +-
 kernel/sched/deadline.c                            |   25 +-
 kernel/smpboot.c                                   |    2 +
 kernel/sysctl.c                                    |    3 -
 kernel/time/hrtimer.c                              |    2 +-
 kernel/time/ntp.c                                  |   11 +
 kernel/time/tick-sched.c                           |    2 -
 kernel/time/time.c                                 |    4 +
 kernel/trace/ftrace.c                              |   53 +-
 kernel/trace/ring_buffer.c                         |   40 +-
 kernel/trace/trace.c                               |    6 +-
 kernel/trace/trace_events.c                        |    2 +-
 kernel/uid16.c                                     |    2 +-
 kernel/user.c                                      |    1 +
 kernel/user_namespace.c                            |  122 +++-
 kernel/workqueue.c                                 |   25 +-
 lib/checksum.c                                     |   12 +-
 lib/decompress_bunzip2.c                           |    2 +-
 mm/cma.c                                           |   14 +-
 mm/compaction.c                                    |    6 +-
 mm/filemap.c                                       |   29 +-
 mm/gup.c                                           |    4 +-
 mm/hugetlb.c                                       |   80 ++-
 mm/ksm.c                                           |    2 +-
 mm/memcontrol.c                                    |    6 +-
 mm/memory.c                                        |   35 +-
 mm/mmap.c                                          |   11 +-
 mm/nommu.c                                         |    4 +-
 mm/page-writeback.c                                |   43 +-
 mm/page_alloc.c                                    |   12 +-
 mm/pagewalk.c                                      |    5 +-
 mm/shmem.c                                         |    2 +-
 mm/vmscan.c                                        |   24 +-
 mm/vmstat.c                                        |    2 +-
 net/batman-adv/fragmentation.c                     |    4 +-
 net/batman-adv/gateway_client.c                    |    2 +-
 net/bluetooth/6lowpan.c                            |    8 +-
 net/bluetooth/hci_conn.c                           |    4 +-
 net/bluetooth/hci_event.c                          |   18 +-
 net/bluetooth/smp.c                                |    6 +-
 net/ceph/osd_client.c                              |   26 +-
 net/compat.c                                       |    9 -
 net/core/dev.c                                     |   59 +-
 net/core/flow.c                                    |    2 +-
 net/core/gen_stats.c                               |   15 +-
 net/core/pktgen.c                                  |   19 +-
 net/core/rtnetlink.c                               |   40 +-
 net/core/skbuff.c                                  |    6 +-
 net/ipv4/cipso_ipv4.c                              |   51 +-
 net/ipv4/geneve.c                                  |   30 +-
 net/ipv4/gre_offload.c                             |    3 +
 net/ipv4/ip_forward.c                              |    3 +-
 net/ipv4/ip_fragment.c                             |   11 +-
 net/ipv4/ip_gre.c                                  |    9 +-
 net/ipv4/ip_output.c                               |   32 +-
 net/ipv4/ip_sockglue.c                             |    8 +-
 net/ipv4/ping.c                                    |   17 +-
 net/ipv4/route.c                                   |    9 +-
 net/ipv4/tcp_fastopen.c                            |   32 +-
 net/ipv4/tcp_ipv4.c                                |   41 +-
 net/ipv4/tcp_output.c                              |    4 +-
 net/ipv4/udp_diag.c                                |    4 +-
 net/ipv6/addrconf.c                                |   17 +
 net/ipv6/datagram.c                                |   10 +-
 net/ipv6/ip6_fib.c                                 |   45 +-
 net/ipv6/ip6_output.c                              |    3 +-
 net/ipv6/ping.c                                    |    5 +-
 net/ipv6/route.c                                   |    9 +-
 net/ipv6/tcp_ipv6.c                                |   73 ++-
 net/irda/ircomm/ircomm_tty.c                       |    4 +-
 net/mac80211/chan.c                                |   23 +-
 net/mac80211/iface.c                               |    1 +
 net/mac80211/key.c                                 |   14 +-
 net/mac80211/mlme.c                                |    1 +
 net/mac80211/pm.c                                  |   29 +-
 net/mac80211/rx.c                                  |   13 +-
 net/mac80211/tx.c                                  |    1 +
 net/netfilter/ipvs/ip_vs_ftp.c                     |   10 +-
 net/netfilter/nf_conntrack_core.c                  |   20 +-
 net/netfilter/nf_tables_api.c                      |   14 +-
 net/netfilter/nfnetlink.c                          |    5 +-
 net/netlabel/netlabel_kapi.c                       |   15 +-
 net/netlink/af_netlink.c                           |   56 +-
 net/openvswitch/datapath.c                         |   45 +-
 net/openvswitch/flow_netlink.c                     |    4 +-
 net/openvswitch/vport.h                            |    2 +
 net/sched/ematch.c                                 |    1 +
 net/sched/sch_fq_codel.c                           |    2 +-
 net/sctp/associola.c                               |    1 -
 net/sctp/output.c                                  |    4 +-
 net/sctp/sm_make_chunk.c                           |    2 +-
 net/socket.c                                       |    3 -
 net/sunrpc/backchannel_rqst.c                      |    5 +-
 net/sunrpc/cache.c                                 |    2 +-
 net/sunrpc/clnt.c                                  |   12 +-
 net/sunrpc/rpcb_clnt.c                             |    8 +-
 net/sunrpc/xdr.c                                   |    6 +-
 net/wireless/chan.c                                |    9 +-
 net/wireless/nl80211.c                             |   11 +-
 net/wireless/reg.c                                 |   12 +-
 scripts/Makefile.clean                             |   16 +-
 scripts/coccinelle/misc/bugon.cocci                |    2 +-
 scripts/kconfig/menu.c                             |    4 +-
 scripts/kernel-doc                                 |    2 +-
 scripts/recordmcount.pl                            |    1 -
 security/keys/encrypted-keys/encrypted.c           |    5 +-
 security/keys/gc.c                                 |    4 +-
 security/selinux/selinuxfs.c                       |    6 +-
 security/smack/smack.h                             |   10 +
 security/smack/smack_lsm.c                         |   24 +-
 sound/core/pcm_native.c                            |    2 +
 sound/core/seq/seq_dummy.c                         |   31 -
 sound/firewire/fireworks/fireworks_transaction.c   |    2 +-
 sound/i2c/other/ak4113.c                           |   17 +-
 sound/i2c/other/ak4114.c                           |   18 +-
 sound/pci/hda/hda_codec.c                          |    4 +-
 sound/pci/hda/hda_controller.c                     |    5 -
 sound/pci/hda/hda_intel.c                          |    2 +-
 sound/pci/hda/patch_analog.c                       |    1 +
 sound/pci/hda/patch_hdmi.c                         |    2 +
 sound/pci/hda/patch_realtek.c                      |   24 +
 sound/pci/hda/patch_sigmatel.c                     |   41 +-
 sound/pci/riptide/riptide.c                        |   27 +-
 sound/pci/rme9652/hdspm.c                          |    6 +
 sound/soc/atmel/atmel_ssc_dai.c                    |   18 +-
 sound/soc/codecs/max98090.c                        |    4 +-
 sound/soc/codecs/pcm512x-i2c.c                     |    7 +-
 sound/soc/codecs/pcm512x.c                         |    2 +-
 sound/soc/codecs/rt5670.c                          |    2 +-
 sound/soc/codecs/sgtl5000.c                        |    3 +
 sound/soc/codecs/sigmadsp.c                        |    7 +
 sound/soc/codecs/tlv320aic31xx.c                   |   13 +-
 sound/soc/codecs/wm8960.c                          |    2 +-
 sound/soc/davinci/Kconfig                          |    3 +-
 sound/soc/dwc/designware_i2s.c                     |   14 +
 sound/soc/fsl/eukrea-tlv320.c                      |    2 +-
 sound/soc/fsl/fsl_esai.h                           |    2 +-
 sound/soc/generic/simple-card.c                    |    7 +-
 sound/soc/omap/omap-mcbsp.c                        |    2 +-
 sound/soc/omap/omap-pcm.c                          |    2 +-
 sound/soc/pxa/mioa701_wm9713.c                     |    2 +-
 sound/soc/soc-compress.c                           |    9 +-
 sound/usb/caiaq/audio.c                            |    2 +-
 sound/usb/midi.c                                   |    2 +
 sound/usb/mixer.c                                  |    1 +
 sound/usb/mixer_maps.c                             |   15 +-
 sound/usb/quirks-table.h                           |  166 ++---
 tools/perf/util/cloexec.c                          |   18 +-
 tools/perf/util/event.h                            |    1 +
 tools/perf/util/session.c                          |   11 +-
 tools/testing/ktest/ktest.pl                       |    4 +-
 .../selftests/mount/unprivileged-remount-test.c    |  204 +++++--
 1033 files changed, 9650 insertions(+), 5128 deletions(-)
```
